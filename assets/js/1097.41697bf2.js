(window.webpackJsonp=window.webpackJsonp||[]).push([[1097],{2064:function(t,e,a){"use strict";a.r(e);var s=a(21),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"wkwebview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wkwebview"}},[t._v("#")]),t._v(" WKWebView")]),t._v(" "),a("h2",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[t._v("#")]),t._v(" Overview")]),t._v(" "),a("p",[a("strong",[t._v("WKWebView")]),t._v(" is an open source project to support the "),a("a",{attrs:{href:"https://developer.apple.com/documentation/webkit/wkwebview",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("WKWebView")]),t._v(" API"),a("OutboundLink")],1),t._v(" with Titanium SDK.")]),t._v(" "),a("h2",{attrs:{id:"requirements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#requirements"}},[t._v("#")]),t._v(" Requirements")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Titanium SDK")])]),t._v(" "),a("li",[a("p",[t._v("iOS 9+")])]),t._v(" "),a("li",[a("p",[t._v("Xcode 7+")])])]),t._v(" "),a("h2",{attrs:{id:"titanium-sdk-8-0-0-release"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#titanium-sdk-8-0-0-release"}},[t._v("#")]),t._v(" Titanium SDK 8.0.0 release")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("⚠️ Warning")]),t._v(" "),a("p",[t._v("With Titanium SDK 8.0.0, we now use "),a("a",{attrs:{href:"#undefined"}},[t._v("WKWebView")]),t._v(" to implement Ti.UI.WebView (as Apple has deprecated "),a("a",{attrs:{href:"https://developer.apple.com/documentation/uikit/uiwebview",target:"_blank",rel:"noopener noreferrer"}},[t._v("UIWebView"),a("OutboundLink")],1),t._v(").")]),t._v(" "),a("p",[t._v("Adding the following to your HTML will make a "),a("code",[t._v("WKWebView")]),t._v(" scale its content the same was as the old UIWebView.")]),t._v(" "),a("p",[a("strong",[t._v("WKWebView scaling")])]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=device-width, initial-scale=1.0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("WKWebView also has few restriction specially with local file accessing. For supporting custom-fonts with WKWebView a little modification is required in the HTML files:")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  @font-face\n    {\n      font-family: 'Lato-Regular';\n      src: url('fonts/Lato-Regular.ttf');\n    }\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])]),t._v(" "),a("p",[t._v("Installation")]),t._v(" "),a("p",[t._v("Download the "),a("a",{attrs:{href:"https://github.com/appcelerator-modules/ti.wkwebview/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("stable release"),a("OutboundLink")],1),t._v(", unpack the module, and place it inside the "),a("code",[t._v("modules/iphone")]),t._v(" directory of your project. Edit the iOS and modules section of your "),a("code",[t._v("tiapp.xml")]),t._v(" file to include this module:")]),t._v(" "),a("p",[a("strong",[t._v("tiapp.xml update")])]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ios")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("min-ios-ver")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("9.0"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("min-ios-ver")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ios")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("modules")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("ti.wkwebview"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("modules")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"features"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#features"}},[t._v("#")]),t._v(" Features")]),t._v(" "),a("h3",{attrs:{id:"api-s"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-s"}},[t._v("#")]),t._v(" API's")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Example")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("WebView")])]),t._v(" "),a("td",[a("code",[t._v("WK.createWebView(args)")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("ProcessPool")])]),t._v(" "),a("td",[a("code",[t._v("WK.createProcessPool()")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("Configuration")])]),t._v(" "),a("td",[a("code",[t._v("WK.createConfiguration()")])])])])]),t._v(" "),a("h3",{attrs:{id:"webview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webview"}},[t._v("#")]),t._v(" WebView")]),t._v(" "),a("h4",{attrs:{id:"properties"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#properties"}},[t._v("#")]),t._v(" Properties")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("disableBounce")])]),t._v(" "),a("td",[a("code",[t._v("Boolean")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("scalesPageToFit")])]),t._v(" "),a("td",[a("code",[t._v("Boolean")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("disableZoom")])]),t._v(" "),a("td",[a("code",[t._v("Boolean")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("allowsBackForwardNavigationGestures")])]),t._v(" "),a("td",[a("code",[t._v("Boolean")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("allowsLinkPreview")])]),t._v(" "),a("td",[a("code",[t._v("Boolean")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("scrollsToTop")])]),t._v(" "),a("td",[a("code",[t._v("Boolean")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("disableContextMenu")])]),t._v(" "),a("td",[a("code",[t._v("Boolean")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("userAgent")])]),t._v(" "),a("td",[a("code",[t._v("String")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("url")])]),t._v(" "),a("td",[a("code",[t._v("String")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("data")])]),t._v(" "),a("td",[a("code",[t._v("Ti.Blob")]),t._v(", "),a("code",[t._v("Ti.File")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("html")])]),t._v(" "),a("td",[a("code",[t._v("String")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("title")])]),t._v(" "),a("td",[a("code",[t._v("String")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("progress")])]),t._v(" "),a("td",[a("code",[t._v("Number")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("backForwardList")])]),t._v(" "),a("td",[a("code",[t._v("Object")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("ignoreSslError")])]),t._v(" "),a("td",[a("code",[t._v("Boolean")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("basicAuthentication")])]),t._v(" "),a("td",[a("code",[t._v("Object")]),a("br"),a("br"),t._v("* username ("),a("code",[t._v("String")]),t._v(")"),a("br"),t._v(" "),a("br"),t._v("* password ("),a("code",[t._v("String")]),t._v(")"),a("br"),t._v(" "),a("br"),t._v("* persistence (CREDENTIAL_PERSISTENCE_*)")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("cachePolicy")])]),t._v(" "),a("td",[a("code",[t._v("CACHE_POLICY_*")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("timeout")])]),t._v(" "),a("td",[a("code",[t._v("Number")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("selectionGranularity")])]),t._v(" "),a("td",[a("code",[t._v("SELECTION_GRANULARITY_*")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("allowedURLSchemes")])]),t._v(" "),a("td",[a("code",[t._v("Array<String>")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("touchEnabled")])]),t._v(" "),a("td",[a("code",[t._v("Boolean")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("willHandleTouches")])]),t._v(" "),a("td",[a("code",[t._v("Boolean")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("requestHeaders")])]),t._v(" "),a("td",[a("code",[t._v("Object<String, Any>")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("zoomLevel")])]),t._v(" "),a("td",[a("code",[t._v("Number")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("keyboardDisplayRequiresUserAction")])]),t._v(" "),a("td",[a("code",[t._v("Boolean")])])])])]),t._v(" "),a("h4",{attrs:{id:"methods"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#methods"}},[t._v("#")]),t._v(" Methods")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Parameter")]),t._v(" "),a("th",[t._v("Return")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("stopLoading")])]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("Void")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("setHtml")])]),t._v(" "),a("td",[t._v("html, options ("),a("code",[t._v("Object - { baseURL, mimeType }")]),t._v(", optional)")]),t._v(" "),a("td",[a("code",[t._v("Void")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("reload")])]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("Void")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("repaint")])]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("Void")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("goBack")])]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("Void")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("goForward")])]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("Void")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("canGoBack")])]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("Boolean")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("canGoForward")])]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("Boolean")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("isLoading")])]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("Boolean")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("evalJS **")])]),t._v(" "),a("td",[t._v("Code ("),a("code",[t._v("String")]),t._v("), Callback ("),a("code",[t._v("Function")]),t._v(")")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("startListeningToProperties")])]),t._v(" "),a("td",[a("code",[t._v("Array")])]),t._v(" "),a("td",[a("code",[t._v("Void")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("stopListeningToProperties")])]),t._v(" "),a("td",[a("code",[t._v("Array")])]),t._v(" "),a("td",[a("code",[t._v("Void")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("fireEvent")])]),t._v(" "),a("td",[t._v("Name ("),a("code",[t._v("String")]),t._v("), Payload ("),a("code",[t._v("Object")]),t._v(")")]),t._v(" "),a("td",[a("code",[t._v("Void")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("addEventListener")])]),t._v(" "),a("td",[t._v("Name ("),a("code",[t._v("String")]),t._v("), Callback ("),a("code",[t._v("Function")]),t._v(")")]),t._v(" "),a("td",[a("code",[t._v("Void")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("removeEventListener")])]),t._v(" "),a("td",[t._v("Name ("),a("code",[t._v("String")]),t._v("), Callback ("),a("code",[t._v("Function")]),t._v(")")]),t._v(" "),a("td",[a("code",[t._v("Void")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("takeSnapshot *")])]),t._v(" "),a("td",[t._v("Callback ("),a("code",[t._v("Function")]),t._v(")")]),t._v(" "),a("td",[a("code",[t._v("Void")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("addUserScript")])]),t._v(" "),a("td",[t._v("Object: source ("),a("code",[t._v("String")]),t._v("), injectionTime ("),a("code",[t._v("INJECTION_TIME_*")]),t._v("), mainFrameOnly ("),a("code",[t._v("Boolean")]),t._v(")")]),t._v(" "),a("td",[a("code",[t._v("Void")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("removeAllUserScripts")])]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("Void")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("addScriptMessageHandler")])]),t._v(" "),a("td",[t._v("Name ("),a("code",[t._v("String")]),t._v(")")]),t._v(" "),a("td",[a("code",[t._v("Void")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("removeScriptMessageHandler")])]),t._v(" "),a("td",[t._v("Name ("),a("code",[t._v("String")]),t._v(")")]),t._v(" "),a("td",[a("code",[t._v("Void")])])])])]),t._v(" "),a("p",[t._v("* Available on iOS 11.0+")]),t._v(" "),a("p",[t._v("** Since iOS 12.0, using "),a("code",[t._v("evalJS")]),t._v(" in sync is not possible anymore, because the internal callback is now called on the main thread, causing a deadlock in the run-loop that is used to return the value synchronously. To fix this, use the asynchronous solution:")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("webView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("evalJS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'document.title'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h4",{attrs:{id:"events"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#events"}},[t._v("#")]),t._v(" Events")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Properties")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("message")])]),t._v(" "),a("td",[t._v("name, body, url, isMainFrame")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("progress")])]),t._v(" "),a("td",[t._v("value, url")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("beforeload")])]),t._v(" "),a("td",[t._v("url, navigationType, title")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("load")])]),t._v(" "),a("td",[t._v("url, title")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("redirect")])]),t._v(" "),a("td",[t._v("url, title")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("error")])]),t._v(" "),a("td",[t._v("success, url, error, code")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("sslerror")])]),t._v(" "),a("td",[t._v("url")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("handleurl")])]),t._v(" "),a("td",[t._v("url")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("blacklisturl")])]),t._v(" "),a("td",[t._v("url")])])])]),t._v(" "),a("h4",{attrs:{id:"constants"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#constants"}},[t._v("#")]),t._v(" Constants")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Property")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("CREDENTIAL_PERSISTENCE_NONE")])]),t._v(" "),a("td",[t._v("basicAuthentication.persistence")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("CREDENTIAL_PERSISTENCE_FOR_SESSION")])]),t._v(" "),a("td",[t._v("basicAuthentication.persistence")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("CREDENTIAL_PERSISTENCE_PERMANENT")])]),t._v(" "),a("td",[t._v("basicAuthentication.persistence")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("CREDENTIAL_PERSISTENCE_SYNCHRONIZABLE")])]),t._v(" "),a("td",[t._v("basicAuthentication.persistence")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("AUDIOVISUAL_MEDIA_TYPE_NONE")])]),t._v(" "),a("td",[t._v("mediaTypesRequiringUserActionForPlayback")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("AUDIOVISUAL_MEDIA_TYPE_AUDIO")])]),t._v(" "),a("td",[t._v("mediaTypesRequiringUserActionForPlayback")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("AUDIOVISUAL_MEDIA_TYPE_VIDEO")])]),t._v(" "),a("td",[t._v("mediaTypesRequiringUserActionForPlayback")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("AUDIOVISUAL_MEDIA_TYPE_ALL")])]),t._v(" "),a("td",[t._v("mediaTypesRequiringUserActionForPlayback")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("CACHE_POLICY_USE_PROTOCOL_CACHE_POLICY")])]),t._v(" "),a("td",[t._v("cachePolicy")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("CACHE_POLICY_RELOAD_IGNORING_LOCAL_CACHE_DATA")])]),t._v(" "),a("td",[t._v("cachePolicy")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("CACHE_POLICY_RETURN_CACHE_DATA_ELSE_LOAD")])]),t._v(" "),a("td",[t._v("cachePolicy")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("CACHE_POLICY_RETURN_CACHE_DATA_DONT_LOAD")])]),t._v(" "),a("td",[t._v("cachePolicy")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("SELECTION_GRANULARITY_AUTOMATIC")])]),t._v(" "),a("td",[t._v("selectionGranularity")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("SELECTION_GRANULARITY_CHARACTER")])]),t._v(" "),a("td",[t._v("selectionGranularity")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("ACTION_POLICY_CANCEL")])]),t._v(" "),a("td",[t._v("handleurl (Event)")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("ACTION_POLICY_ALLOW")])]),t._v(" "),a("td",[t._v("handleurl (Event)")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("INJECTION_TIME_DOCUMENT_START")])]),t._v(" "),a("td",[t._v("addUserScript.injectionTime")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("INJECTION_TIME_DOCUMENT_END")])]),t._v(" "),a("td",[t._v("addUserScript.injectionTime")])])])]),t._v(" "),a("h4",{attrs:{id:"webview-app-communication"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webview-app-communication"}},[t._v("#")]),t._v(" WebView <-> App Communication")]),t._v(" "),a("p",[t._v("You can send data from the Web View to your native app by posting messages like this:")]),t._v(" "),a("p",[a("strong",[t._v("Send data from the Web View")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("window.webkit.messageHandlers.Ti.postMessage({ message: 'Titanium rocks!' },'*');\n")])])]),a("p",[t._v("Please note that you should use the "),a("code",[t._v("Ti")]),t._v(" message handler to ensure the "),a("code",[t._v("message")]),t._v(" event is triggered. This also ensures that your app does not receive unwanted messages by remote pages.")]),t._v(" "),a("p",[t._v("After sending the message from your HTML file, it will trigger the "),a("code",[t._v("message")]),t._v(" event with the following event keys:")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("url")]),t._v(": The url of the triggered message")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("body")]),t._v(": The message body. In this case: "),a("code",[t._v("{message: 'Titanium rocks'}")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("name")]),t._v(": The name of the message. In this case: "),a("code",[t._v("Ti")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("isMainFrame")]),t._v(": A boolean determine if the message was sent from the main-frame")])])]),t._v(" "),a("p",[t._v("For sending messages from the app to the Web View, use "),a("code",[t._v("evalJS")]),t._v(" to call your JS methods like this:")]),t._v(" "),a("p",[a("strong",[t._v("Send messages from the app to the Web View")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("webView.evalJS('myJSMethod();');\n")])])]),a("p",[t._v("Check out the "),a("a",{attrs:{href:"https://github.com/appcelerator-modules/Ti.WKWebView/blob/master/example/app.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("example file"),a("OutboundLink")],1),t._v(" for sending and receiving message back and forth.")]),t._v(" "),a("p",[t._v("Note 1: Since 2.3.0, this module also supports synchronous communication via "),a("code",[t._v("evalJSSync")]),t._v(". Instead of "),a("code",[t._v("evalJS")]),t._v(", it takes only one parameter (the code to evaluate) and no callback. Instead, it returns the JavaScript evaluation result directly. While we understand there might be use-cases for this functionality, we highly recommend using asynchronous communication instead since synchronous method calls with block the user interface and may cause in an app-termination for long-running evaluations.")]),t._v(" "),a("p",[t._v("Note 2: Since 2.4.0, this modules also supports Ti.App-like events that allows the developer to fire events and add event-listeners to ease the communication between the app and the web-view. These are:")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("fireEvent")])]),t._v(" "),a("li",[a("p",[t._v("addEventListener")])]),t._v(" "),a("li",[a("p",[t._v("removeEventListener")])])]),t._v(" "),a("p",[t._v("Different to the Ti.App events, these ones are fired on the top-level module instance.")]),t._v(" "),a("p",[a("strong",[t._v("Ti.App events")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WK")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ti.wkwebview'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Fire event")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fireEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myEvent'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" message"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Titanium rocks!'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Listen to events")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myEvent'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("The above events can be used on the JavaScript side as well. The following is an example on how to use them in your HTML file (ensure that there is no concurring WK variable):")]),t._v(" "),a("p",[a("strong",[t._v("Ti.App events in HTML")])]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token doctype"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),a("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token name"}},[t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Local HTML"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Hello world!"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text/javascript"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      // Listen to the native Titanium event\n      WK.addEventListener('testEvent', function(e) { // Fire back an event to the native Titanium app\n        WK.fireEvent('testEventBack', { message: 'It worked!' });\n      });\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h4",{attrs:{id:"saving-images"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#saving-images"}},[t._v("#")]),t._v(" Saving Images")]),t._v(" "),a("p",[t._v("If you want to allow users to browse the internet (e.g. by using a remote site), ensure to include the "),a("code",[t._v("NSPhotoLibraryAddUsageDescription")]),t._v(" key in "),a("code",[t._v("tiapp.xml")]),t._v(". Different to the "),a("code",[t._v("UIWebView")]),t._v(" and its "),a("code",[t._v("Ti.UI.WebView")]),t._v("implementation, the "),a("code",[t._v("WKWebView")]),t._v(" is more configurable but require the developer to act more carefully.")]),t._v(" "),a("h4",{attrs:{id:"inter-app-communication"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#inter-app-communication"}},[t._v("#")]),t._v(" Inter-App Communication")]),t._v(" "),a("p",[t._v("For using the URL schemes "),a("code",[t._v("mailto")]),t._v(", "),a("code",[t._v("tel")]),t._v(", "),a("code",[t._v("sms")]),t._v(" and "),a("code",[t._v("itms-services")]),t._v(" you only have to set the "),a("code",[t._v("allowedURLSchemes")]),t._v(" property. Other URL schemes (i.e. "),a("code",[t._v("fb")]),t._v(") additionally need the corresponding "),a("code",[t._v("LSApplicationQueriesSchemes")]),t._v(" key in the iOS plist dictionary of your "),a("code",[t._v("tiapp.xml")]),t._v(":")]),t._v(" "),a("p",[a("strong",[t._v("iOS plist dictionary")])]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("LSApplicationQueriesSchemes"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("fb"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h4",{attrs:{id:"generic-property-observing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#generic-property-observing"}},[t._v("#")]),t._v(" Generic Property Observing")]),t._v(" "),a("p",[t._v("You can listen to changes in some of the native properties (see the native KVO-capability).")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// Start listening for changes\nwebView.startListeningToProperties([ 'title' ]); // Add an event listener for the change\nwebView.addEventListener( 'title' , function(e) { // Check for e.value }); // Remove listening to changes (remove the event listener as well to keep it more clean)\nwebView.stopListeningToProperties([ 'title' ]);\n")])])]),a("h3",{attrs:{id:"configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[t._v("#")]),t._v(" Configuration")]),t._v(" "),a("p",[t._v("Use the configuration API to configure the initial web-view. This property can only be set when creating the webview and will be ignored when set afterwards.")]),t._v(" "),a("p",[a("strong",[t._v("Configuration API")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WK")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ti.wkwebview'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" config "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createConfiguration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" allowsPictureInPictureMediaPlaback"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" webView "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createWebView")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" configuration"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" config "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h4",{attrs:{id:"properties-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#properties-2"}},[t._v("#")]),t._v(" Properties")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("mediaTypesRequiringUserActionForPlayback")])]),t._v(" "),a("td",[a("code",[t._v("AUDIOVISUAL_MEDIA_TYPE_*")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("suppressesIncrementalRendering")])]),t._v(" "),a("td",[a("code",[t._v("Boolean")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("preferences")])]),t._v(" "),a("td",[a("code",[t._v("Object")]),a("br"),a("br"),t._v("* "),a("code",[t._v("minimumFontSize (Double)")]),a("br"),t._v(" "),a("br"),t._v("* "),a("code",[t._v("javaScriptEnabled (Boolean)")]),a("br"),t._v(" "),a("br"),t._v("* "),a("code",[t._v("javaScriptCanOpenWindowsAutomatically (Boolean)")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("allowsInlineMediaPlayback")])]),t._v(" "),a("td",[a("code",[t._v("Boolean")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("allowsAirPlayMediaPayback")])]),t._v(" "),a("td",[a("code",[t._v("Boolean")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("allowsPictureInPictureMediaPlaback")])]),t._v(" "),a("td",[a("code",[t._v("Boolean")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("processPool")])]),t._v(" "),a("td",[t._v("ProcessPool")])])])]),t._v(" "),a("h3",{attrs:{id:"process-pool"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#process-pool"}},[t._v("#")]),t._v(" Process pool")]),t._v(" "),a("p",[t._v("Use process pools to share cookies between webviews. Process pools do not take arguments, just pass the same reference to multiple web views.")]),t._v(" "),a("p",[a("strong",[t._v("Process pools")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WK")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ti.wkwebview'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" pool "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createProcessPool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" config1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createConfiguration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" processPool"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" pool "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" config2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createConfiguration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" processPool"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" pool "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" firstWebView "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createWebView")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" configuration"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" config1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" secondWebView "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createWebView")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" configuration"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" config2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"handle-custom-url-schemes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#handle-custom-url-schemes"}},[t._v("#")]),t._v(" Handle custom URL-schemes")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("The custom url-scheme has to be registered in the "),a("code",[t._v("allowedURLSchemes")]),t._v(" array-property")])]),t._v(" "),a("li",[a("p",[t._v("Passes the "),a("code",[t._v("url")]),t._v(" for a custom url-scheme")])]),t._v(" "),a("li",[a("p",[t._v("The event was introduced because iOS 10+ causes issues for some custom url-schemes and forwarding the url in an event is a simpler short term solution than implementing the "),a("code",[t._v("WKURLSchemeHandler")]),t._v(" which is iOS 11+ only.")])])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Add an event listener to listen for a custom URL-scheme")]),t._v("\nwebView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'handleurl'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" handler "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  Ti"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Platform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("openURL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("invoke")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ACTION_POLICY_CANCEL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ACTION_POLICY_CANCEL or ACTION_POLICY_ALLOW")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);