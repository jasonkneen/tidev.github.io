{"name":"Titanium.Android.Service","summary":"<p>Android application component that executes in the background.</p>\n","extends":"Titanium.Proxy","platforms":[{"since":"1.5","name":"android"}],"type":"object","editUrl":"https://github.com/appcelerator/titanium_mobile/edit/master/apidoc/Titanium/Android/Service.yml","events":[{"name":"pause","summary":"<p>For Javascript-based services that you create, <code>pause</code> fires after each time the JavaScript\ncode executes.</p>\n","description":"<p>The <code>resume</code> and <code>pause</code> events occur in pairs, with <code>resume</code> firing just before your\nJavaScript service code executes, and <code>pause</code> just after.</p>\n","platforms":[{"since":"1.5","name":"android"}],"properties":[{"name":"iteration","summary":"<p>Incrementing integer indicating which iteration of an interval-based Service is pausing.\nFor example, if you have an interval-based Service running every 10 seconds, iteration\n3 would occur at about 30 seconds after you start the instance (assuming your service\ncode runs quickly).</p>\n","type":"Number"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"}]},{"name":"resume","summary":"<p>For JavaScript-based Services which you create, <code>resume</code> fires each time the JavaScript\ncode executes.</p>\n","description":"<p>For example, if your Service runs on an interval of 10000 (10 seconds), you would expect\nto see <code>resume</code> fired every 10 seconds, just as the JavaScript service code you wrote is\nabout to execute.</p>\n","platforms":[{"since":"1.5","name":"android"}],"properties":[{"name":"iteration","summary":"<p>Incrementing integer indicating which iteration of an interval-based Service is pausing.\nFor example, if you have an interval-based Service running every 10 seconds, iteration\n3 would occur at about 30 seconds after you start the instance (assuming your service\ncode runs quickly).</p>\n","type":"Number"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"}]},{"name":"start","summary":"<p>Fired when the bound service instance starts.</p>\n","description":"<p>Bound service instances are created via <a href=\"/api/titanium/android.html#createservice\">createService</a>.</p>\n","platforms":[{"since":"1.5","name":"android"}]},{"name":"stop","summary":"<p>Fired when the bound service instance stops.</p>\n","description":"<p>The service stops when <a href=\"/api/titanium/android/service.html#stop\">stop</a> or\n<a href=\"/api/titanium/android.html#stopservice\">stopService</a> is called and there are no more bound,\nun-stopped clients.</p>\n","platforms":[{"since":"1.5","name":"android"}]},{"name":"taskremoved","summary":"<p>Fired when the task that comes from the service's application has been removed.</p>\n","description":"<p>This event is fired if the service is currently running and the user has removed a task\nthat comes from the service's application, eg. the user swipes the application away from\nthe recent applications list. It only works for unbound service which is\nstarted using <a href=\"/api/titanium/android.html#startservice\">startService</a>.</p>\n","platforms":[{"since":"1.5","name":"android"}]}],"methods":[{"name":"foregroundCancel","summary":"<p>Puts the service into the &quot;background&quot; state and removes its foreground notification.</p>\n","description":"<p>If you call the <a href=\"/api/titanium/android/service.html#foregroundnotify\">foregroundNotify</a> method to\nput the service into the &quot;foreground&quot; state, then you call this method to put the service\nback into the &quot;background&quot; state. This will also automatically remove the foreground service's\nnotification that was put into the status bar.</p>\n<p>Note that stopping a foreground service will remove its foreground notification from\nthe status bar as well. So, you do not have to call this method to remove it. This method\nis only intended to be used by services that need to dynamically change states.</p>\n","platforms":[{"since":"7.3.0","name":"android"}],"returns":{"type":"void"}},{"name":"foregroundNotify","summary":"<p>Puts the service into the &quot;foreground&quot; state and displays a notification.</p>\n","description":"<p>Calling this method will change the service from the &quot;background&quot; state (the default)\nto the &quot;foreground&quot; state. It will also post a notification to the status bar to notify the\nend-user that the app is doing work, even while backgrounded. This feature is typically\nused by apps that play music, monitor current location, or perform large downloads while\nthe app is in the background.</p>\n<p>Note that a foreground service is far less likely to be terminated by the operating system\nwhile the app is in the background. A foreground service is also needed if the app\nneeds to acquire location data since Android 8.0 and higher throttles location acquisition\nwhile the app is in the background.</p>\n<p>See Android 8.0 &quot;Background Execution Limits&quot;:</p>\n<ul>\n<li>https://developer.android.com/about/versions/oreo/background</li>\n</ul>\n<p>You can call this method before or after the service has been started. If you need to\nchange the displayed notification, then you can call this method again with the same\nnotification ID and with an updated [notification]<a href=\"/api/titanium/android/notification.html\">Titanium.Android.Notification</a> object.</p>\n<p>The notification will be automatically removed from the status bar when the service has\nbeen stopped or if you call the <a href=\"/api/titanium/android/service.html#foregroundcancel\">foregroundCancel</a>\nmethod.</p>\n<p>This method will fail on Android 9.0 and above unless you set the following Android manifest\npermission in your &quot;tiapp.xml&quot; file.</p>\n<!--beforebegin--><div class=\"language-xml extra-class\"><!--afterbegin--><pre v-pre class=\"language-xml\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">ti:</span>app</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>android</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>android</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://schemas.android.com/apk/res/android<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>manifest</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>uses-permission</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>android.permission.FOREGROUND_SERVICE<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>manifest</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>android</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token namespace\">ti:</span>app</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<!--beforeend--></div><!--afterend-->","platforms":[{"since":"7.3.0","name":"android"}],"parameters":[{"name":"id","summary":"<p>Unique integer ID to be assigned to the notification. Cannot be zero.</p>\n","type":"Number"},{"name":"notification","summary":"<p>Notification to display in the status bar. Cannot be null.</p>\n","type":"Titanium.Android.Notification"},{"name":"foregroundServiceType","summary":"<p>Notification service type specified by &lt;Titanium.Android.FOREGROUND_SERVICE_TYPE_*&gt;.</p>\n","type":"Number","optional":true}],"returns":{"type":"void"}},{"name":"start","summary":"<p>Starts the Service.</p>\n","description":"<p>Effective only if this instance of <a href=\"/api/titanium/android/service.html\">Titanium.Android.Service</a> was created\nwith <a href=\"/api/titanium/android.html#createservice\">createService</a>.</p>\n","platforms":[{"since":"1.5","name":"android"}],"returns":{"type":"void"}},{"name":"stop","summary":"<p>Stops this running instance of the Service.</p>\n","platforms":[{"since":"1.5","name":"android"}],"returns":{"type":"void"}}],"properties":[{"name":"intent","summary":"<p>The intent used to start or bind to the Service.</p>\n","platforms":[{"since":"1.5","name":"android"}],"type":"Titanium.Android.Intent","permission":"read-only"},{"name":"serviceInstanceId","summary":"<p>A service can be started more than once -- this number (based on an incrementing integer)\nindicates which &quot;start number&quot; in the sequence the current service instance is.</p>\n","platforms":[{"since":"1.5","name":"android"}],"type":"Number","permission":"read-only"}],"subtype":"proxy","constants":[]}
