{"name":"Titanium.WatchSession","summary":"<p>Used to enable data and file transfers between a watchOS and iOS application.</p>\n","extends":"Titanium.Module","platforms":[{"since":"5.0.0","name":"iphone"}],"type":"module","editUrl":"https://github.com/appcelerator/titanium_mobile/edit/master/apidoc/Titanium/WatchSession/WatchSession.yml","events":[{"name":"receivemessage","summary":"<p>App received message from apple watch in foreground. Will be called on startup if the\nincoming message caused the receiver to launch.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"properties":[{"name":"message","summary":"<p>The message content</p>\n","type":"Dictionary"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"}]},{"name":"receiveapplicationcontext","summary":"<p>App received app context from apple watch. Will be called on startup if an applicationContext is available.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"properties":[{"name":"applicationContext","summary":"<p>The application Context</p>\n","type":"Dictionary"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"}]},{"name":"receiveuserinfo","summary":"<p>App received user info from apple watch in background. Will be called on startup if the user info finished\ntransferring when the receiver was not running.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"properties":[{"name":"userInfo","summary":"<p>The user info content</p>\n","type":"Dictionary"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"}]},{"name":"receivefile","summary":"<p>App received file from apple watch in background.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"properties":[{"name":"data","summary":"<p>The downloaded data as a Titanium.Blob object.</p>\n","type":"Titanium.Blob"},{"name":"metaData","summary":"<p>Information about the file.</p>\n","type":"Dictionary"},{"name":"success","summary":"<p>If the transfer was successful.</p>\n","type":"Boolean"},{"name":"errorCode","summary":"<p>Error code if transfer failed.</p>\n","type":"Number"},{"name":"message","summary":"<p>Error message if any.</p>\n","type":"String"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"}]},{"name":"watchstatechanged","summary":"<p>The watch state has changed.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"properties":[{"name":"isPaired","summary":"<p>If the device is paired with the apple watch.</p>\n","type":"Boolean"},{"name":"isReachable","summary":"<p>If apple watch is currently reachable.</p>\n","type":"Boolean"},{"name":"isWatchAppInstalled","summary":"<p>If the watch app is installed in the apple watch.</p>\n","type":"Boolean"},{"name":"isComplicationEnabled","summary":"<p>If the complication is enabled in the apple watch.</p>\n","type":"Boolean"},{"name":"isActivated","summary":"<p>If the apple watch is currently activated. Only available on iOS 9.3\nand later. See <a href=\"/api/titanium/watchsession.html#isactivated\">isActivated</a> for more infos.</p>\n","type":"Boolean"},{"name":"activationState","summary":"<p>Returns the current activation state of the watch.  Only available on iOS 9.3\nand later. See <a href=\"/api/titanium/watchsession.html#activationstate\">activationState</a> for more infos.</p>\n","type":"Number"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"}]},{"name":"reachabilitychanged","summary":"<p>The watch reachability state has changed.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"properties":[{"name":"isPaired","summary":"<p>If the device is paired with the apple watch.</p>\n","type":"Boolean"},{"name":"isReachable","summary":"<p>If apple watch is currently reachable.</p>\n","type":"Boolean"},{"name":"isWatchAppInstalled","summary":"<p>If the watch app is installed in the apple watch.</p>\n","type":"Boolean"},{"name":"isComplicationEnabled","summary":"<p>If the complication is enabled in the apple watch.</p>\n","type":"Boolean"},{"name":"isActivated","summary":"<p>If the apple watch is currently activated. Only available on iOS 9.3\nand later. See <a href=\"/api/titanium/watchsession.html#isactivated\">isActivated</a> for more infos.</p>\n","type":"Boolean"},{"name":"activationState","summary":"<p>Returns the current activation state of the watch.  Only available on iOS 9.3\nand later. See <a href=\"/api/titanium/watchsession.html#activationstate\">activationState</a> for more infos.</p>\n","type":"Number"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"}]},{"name":"finishuserinfotransfer","summary":"<p>Fired when the application completed user info transfer to the watch app.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"properties":[{"name":"userInfo","summary":"<p>The downloaded data as a Titanium.Blob object.</p>\n","type":"Dictionary"},{"name":"success","summary":"<p>If the transfer was successful.</p>\n","type":"Boolean"},{"name":"errorCode","summary":"<p>Error code if transfer failed.</p>\n","type":"Number"},{"name":"message","summary":"<p>Error message if any.</p>\n","type":"String"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"}]},{"name":"finishfiletransfer","summary":"<p>App completed file transfer to watch app.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"properties":[{"name":"fileURL","summary":"<p>URL of the file transferred.</p>\n","type":"String"},{"name":"metaData","summary":"<p>meta data of the file transferred.</p>\n","type":"Dictionary"},{"name":"success","summary":"<p>If the transfer was successful.</p>\n","type":"Boolean"},{"name":"errorCode","summary":"<p>Error code if transfer failed.</p>\n","type":"Number"},{"name":"message","summary":"<p>Error message if any.</p>\n","type":"String"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"}]},{"name":"inactive","summary":"<p>Called when the session can no longer be used to modify or add any new transfers and,\nall interactive messages will be cancelled, but events for background transfers can still fire.\nThis will happen when the selected watch is being changed.</p>\n","platforms":[{"since":"5.4.0","name":"iphone"}],"properties":[{"name":"isPaired","summary":"<p>If the device is paired with the apple watch.</p>\n","type":"Boolean"},{"name":"isReachable","summary":"<p>If apple watch is currently reachable.</p>\n","type":"Boolean"},{"name":"isWatchAppInstalled","summary":"<p>If the watch app is installed in the apple watch.</p>\n","type":"Boolean"},{"name":"isComplicationEnabled","summary":"<p>If the complication is enabled in the apple watch.</p>\n","type":"Boolean"},{"name":"isActivated","summary":"<p>If the apple watch is currently activated. Only available on iOS 9.3\nand later. See <a href=\"/api/titanium/watchsession.html#isactivated\">isActivated</a> for more infos.</p>\n","type":"Boolean"},{"name":"activationState","summary":"<p>Returns the current activation state of the watch.  Only available on iOS 9.3\nand later. See <a href=\"/api/titanium/watchsession.html#activationstate\">activationState</a> for more infos.</p>\n","type":"Number"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"}]},{"name":"deactivate","summary":"<p>Called when all events for the previously selected watch has occurred.\nThe session can be re-activated for the now selected watch using activateSession.</p>\n","platforms":[{"since":"5.4.0","name":"iphone"}],"properties":[{"name":"isPaired","summary":"<p>If the device is paired with the apple watch.</p>\n","type":"Boolean"},{"name":"isReachable","summary":"<p>If apple watch is currently reachable.</p>\n","type":"Boolean"},{"name":"isWatchAppInstalled","summary":"<p>If the watch app is installed in the apple watch.</p>\n","type":"Boolean"},{"name":"isComplicationEnabled","summary":"<p>If the complication is enabled in the apple watch.</p>\n","type":"Boolean"},{"name":"isActivated","summary":"<p>If the apple watch is currently activated. Only available on iOS 9.3\nand later. See <a href=\"/api/titanium/watchsession.html#isactivated\">isActivated</a> for more infos.</p>\n","type":"Boolean"},{"name":"hasContentPending","summary":"<p>If the apple watch has currently content pending. Only available on iOS 10.0\nand later. See <a href=\"/api/titanium/watchsession.html#hascontentpending\">hasContentPending</a> for more infos.</p>\n","type":"Boolean"},{"name":"remainingComplicationUserInfoTransfers","summary":"<p>If the apple watch has complication userInfo transfers left. Only available on iOS 10.0\nand later. See <a href=\"/api/titanium/watchsession.html#remainingcomplicationuserinfotransfers\">remainingComplicationUserInfoTransfers</a> for more infos.</p>\n","type":"Boolean"},{"name":"activationState","summary":"<p>Returns the current activation state of the watch.  Only available on iOS 9.3\nand later. See <a href=\"/api/titanium/watchsession.html#activationstate\">activationState</a> for more infos.</p>\n","type":"Number"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"}]},{"name":"activationCompleted","summary":"<p>Called when the session has completed activation. If session state is\n<a href=\"/api/titanium/watchsession.html#activation_state_not_activated\">ACTIVATION_STATE_NOT_ACTIVATED</a> there will be an error\nwith more details.</p>\n","platforms":[{"since":"5.4.0","name":"iphone"}],"properties":[{"name":"isPaired","summary":"<p>If the device is paired with the apple watch.</p>\n","type":"Boolean"},{"name":"isReachable","summary":"<p>If apple watch is currently reachable.</p>\n","type":"Boolean"},{"name":"isWatchAppInstalled","summary":"<p>If the watch app is installed in the apple watch.</p>\n","type":"Boolean"},{"name":"isComplicationEnabled","summary":"<p>If the complication is enabled in the apple watch.</p>\n","type":"Boolean"},{"name":"isActivated","summary":"<p>If the apple watch is currently activated. Only available on iOS 9.3\nand later. See <a href=\"/api/titanium/watchsession.html#isactivated\">isActivated</a> for more infos.</p>\n","type":"Boolean"},{"name":"activationState","summary":"<p>Returns the current activation state of the watch.  Only available on iOS 9.3\nand later. See <a href=\"/api/titanium/watchsession.html#activationstate\">activationState</a> for more infos.</p>\n","type":"Number"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"}]}],"methods":[{"name":"activateSession","summary":"<p>Activates the watch session</p>\n","description":"<p>Activates the watch session to make the app ready to receive messages from the watch app.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"returns":{"type":"void"}},{"name":"cancelAllFileTransfers","summary":"<p>Cancels all incomplete file transfers to the apple watch.</p>\n","description":"<p>Cancels all incomplete file transfers to the apple watch.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"returns":{"type":"void"}},{"name":"cancelAllTransfers","summary":"<p>Cancels all incomplete transfers to the apple watch.</p>\n","description":"<p>Cancels all incomplete transfers to the apple watch, including user info, complication and file.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"returns":{"type":"void"}},{"name":"cancelAllUserInfoTransfers","summary":"<p>Cancels all incomplete user info and complication transfers to the apple watch.</p>\n","description":"<p>Cancels all incomplete user info and complication transfers to the apple watch.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"returns":{"type":"void"}},{"name":"sendMessage","summary":"<p>Sends a message to the apple watch.</p>\n","description":"<p>Sends a message to the installed watchapp on the apple watch in the foreground.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"parameters":[{"name":"message","summary":"<p>Message to send to apple watch. This property is required and the key of the dictionary\nneeds to be a String.</p>\n","type":"Dictionary"},{"name":"reply","summary":"<p>Function to be called upon receiving a reply from the watch app.</p>\n<p><strong>Since Release 5.1.0</strong></p>\n<p>This function is used to process the direct reply from the watch app after sending one.</p>\n","type":"Callback<MessageReply>","optional":true}],"returns":{"type":"void"}},{"name":"transferCurrentComplication","summary":"<p>Transfers complication data to the watch application.</p>\n","description":"<p>Transfers complication data to the installed watch app. This is only for\nwatch apps with complications enabled.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"parameters":[{"name":"params","summary":"<p>Complication to be transferred to watch app.</p>\n","type":"Dictionary"}],"returns":{"type":"void"}},{"name":"transferFile","summary":"<p>Transfers a file to the apple watch.</p>\n","description":"<p>Transfers a file to the installed watchapp on the apple watch in the background. Subsequent\ntransfers are queued.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"parameters":[{"name":"params","summary":"<p>Pass an object with the following key-value pairs:</p>\n<ul>\n<li><code>fileURL</code> (String) (required): Local filesystem path of file to send to the watch app.</li>\n<li><code>metaData</code> (Dictionary) (optional): Additional information about the file to send to the watch app.</li>\n</ul>\n","type":"Dictionary"}],"returns":{"type":"void"}},{"name":"transferUserInfo","summary":"<p>Transfers an user info to the apple watch.</p>\n","description":"<p>Transfers an user info object to the installed watchapp on the apple watch in the background.\nSubsequent transfers are queued.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"parameters":[{"name":"params","summary":"<p>userInfo to be transferred to apple watch.</p>\n","type":"Dictionary"}],"returns":{"type":"void"}},{"name":"updateApplicationContext","summary":"<p>Sends an app context update to the apple watch.</p>\n","description":"<p>Sends an app context update to the apple watch. If watchapp is in background during transfer,\nwatchapp will fire the <a href=\"/api/titanium/watchsession.html#receiveapplicationcontext\">receiveapplicationcontext</a> event immediately when\nit becomes active. Only one app context is stored at any one time. Subsequent updates will simply\nreplace the earlier one sent.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"parameters":[{"name":"params","summary":"<p>App context to be updated in apple watch.</p>\n","type":"Dictionary"}],"returns":{"type":"void"}}],"properties":[{"name":"activationState","summary":"<p>Returns the current activation state of the watch.</p>\n","platforms":[{"since":"5.4.0","name":"iphone"}],"type":"Number","permission":"read-only","constants":["Titanium.WatchSession.ACTIVATION_STATE_NOT_ACTIVATED","Titanium.WatchSession.ACTIVATION_STATE_INACTIVE","Titanium.WatchSession.ACTIVATION_STATE_ACTIVATED"]},{"name":"hasContentPending","summary":"<p>Returns <code>true</code> if there is more content for the session to deliver.</p>\n","platforms":[{"since":"6.0.0","name":"iphone"}],"type":"Boolean","permission":"read-only"},{"name":"isActivated","summary":"<p>Returns <code>true</code> if the watch is currently activated.</p>\n","platforms":[{"since":"5.4.0","name":"iphone"}],"type":"Boolean","permission":"read-only"},{"name":"isComplicationEnabled","summary":"<p>Returns <code>true</code> if complication is enabled on the installed watch app.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"type":"Boolean","permission":"read-only"},{"name":"isPaired","summary":"<p>Returns <code>true</code> if the device is paired with a watch.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"type":"Boolean","permission":"read-only"},{"name":"isReachable","summary":"<p>Returns <code>true</code> if the watch is currently reachable.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"type":"Boolean","permission":"read-only"},{"name":"isSupported","summary":"<p>Returns <code>true</code> if the device supports watch connectivity.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"type":"Boolean","permission":"read-only"},{"name":"isWatchAppInstalled","summary":"<p>Returns <code>true</code> if the accompanying watch app is installed.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"type":"Boolean","permission":"read-only"},{"name":"recentApplicationContext","summary":"<p>The most recent application context sent to the watch app.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"}],"type":"Dictionary","permission":"read-only"},{"name":"remainingComplicationUserInfoTransfers","summary":"<p>The number of calls remaining to <code>transferCurrentComplication</code> before the system starts\ntransferring the complicationUserInfo as regular userInfos.</p>\n","platforms":[{"since":"6.0.0","name":"iphone"}],"type":"Number","default":0,"permission":"read-only"}],"constants":[{"name":"ACTIVATION_STATE_ACTIVATED","summary":"<p>The watch is currently activated.</p>\n","platforms":[{"since":"5.4.0","name":"iphone"}],"type":"Number","permission":"read-only"},{"name":"ACTIVATION_STATE_INACTIVE","summary":"<p>The watch is currently inactive.</p>\n","platforms":[{"since":"5.4.0","name":"iphone"}],"type":"Number","permission":"read-only"},{"name":"ACTIVATION_STATE_NOT_ACTIVATED","summary":"<p>The watch is currently not activated.</p>\n","platforms":[{"since":"5.4.0","name":"iphone"}],"type":"Number","permission":"read-only"}]}
