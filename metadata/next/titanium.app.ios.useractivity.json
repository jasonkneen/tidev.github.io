{"name":"Titanium.App.iOS.UserActivity","summary":"<p>The UserActivity module is used to enable device Handoff and to create User Activities.</p>\n","extends":"Titanium.Proxy","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"type":"object","editUrl":"https://github.com/appcelerator/titanium_mobile/edit/master/apidoc/Titanium/App/iOS/UserActivity.yml","events":[{"name":"useractivitywillsave","deprecated":{"notes":"<p>Set the property <code>needsSave</code> to true everytime you update current activity state instead.</p>\n","since":"5.2.0"},"summary":"<p>Fired if the activity context needs to be saved before being continued on another device.</p>\n<p>To fire the event, set the UserActiviy object's <code>needsSave</code> property to <code>true</code>.</p>\n<p>The receiver should update the activity with current activity state.</p>\n<p>After the event is fired, iOS will reset the <code>needsSave</code> property to false.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"properties":[{"name":"activityType","summary":"<p>The activityType of the User Activity triggering the event.</p>\n","type":"String"},{"name":"title","summary":"<p>The title of the User Activity if defined.</p>\n","type":"String"},{"name":"webpageURL","summary":"<p>The webpageURL of the User Activity if defined.</p>\n","type":"String"},{"name":"userInfo","summary":"<p>Dictionary object containing the userInfo data of the User Activity.</p>\n","type":"Dictionary"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"}]},{"name":"useractivitywascontinued","summary":"<p>Fired when the user activity was continued on another device.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"properties":[{"name":"activityType","summary":"<p>The activityType of the User Activity triggering the event.</p>\n","type":"String"},{"name":"title","summary":"<p>The title of the User Activity if defined.</p>\n","type":"String"},{"name":"webpageURL","summary":"<p>The webpageURL of the User Activity if defined.</p>\n","type":"String"},{"name":"userInfo","summary":"<p>Dictionary object containing the userInfo data of the User Activity.</p>\n","type":"Dictionary"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"}]},{"name":"useractivitydeleted","summary":"<p>Fired when the user activity get deleted using the <a href=\"/api/titanium/app/ios/useractivity.html#deleteallsaveduseractivities\">deleteAllSavedUserActivities</a> or\n<a href=\"/api/titanium/app/ios/useractivity.html#deletesaveduseractivitiesforpersistentidentifiers\">deleteSavedUserActivitiesForPersistentIdentifiers</a> methods.</p>\n","platforms":[{"since":"7.4.0","name":"iphone"},{"since":"7.4.0","name":"ipad"},{"since":"9.2.0","name":"macos"}]}],"methods":[{"name":"addContentAttributeSet","summary":"<p>Adds a Titanium.App.iOS.SearchableItemAttributeSet to the user activity.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"parameters":[{"name":"contentAttributeSet","summary":"<p>SearchableItemAttributeSet object that contains the set of properties you want to display for a searchable activity.</p>\n","type":"Titanium.App.iOS.SearchableItemAttributeSet"}],"returns":{"type":"void"}},{"name":"becomeCurrent","summary":"<p>Marks the activity as currently in use by the user.</p>\n","description":"<p>For example, you should mark the activity associated with the active window as current.\nA newly created activity is eligible for continuation on another device after the first time it becomes current.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"returns":{"type":"void"}},{"name":"deleteAllSavedUserActivities","summary":"<p>Deletes all user activities created by your app.</p>\n","description":"<p>The <a href=\"/api/titanium/app/ios/useractivity.html#useractivitydeleted\">useractivitydeleted</a> event is fired after deteting the\nuser activities. Listen and wait for this event to fired to ensure that the system deletes\nthe activities (or marks them for deletion).</p>\n","platforms":[{"since":"7.4.0","name":"iphone"},{"since":"7.4.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"returns":{"type":"void"}},{"name":"deleteSavedUserActivitiesForPersistentIdentifiers","summary":"<p>Deletes user activities created by your app that have the specified persistent identifiers.</p>\n","description":"<p>The <a href=\"/api/titanium/app/ios/useractivity.html#useractivitydeleted\">useractivitydeleted</a> event is fired after deteting the\nuser activities. Listen and wait for this event to fired to ensure that the system deletes\nthe activities (or marks them for deletion).</p>\n","platforms":[{"since":"7.4.0","name":"iphone"},{"since":"7.4.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"parameters":[{"name":"persistentIdentifiers","summary":"<p>Array of persistent identifiers of user activity.</p>\n","type":"Array<String>"}],"returns":{"type":"void"}},{"name":"invalidate","summary":"<p>Invalidates an activity when it is no longer eligible for continuation.</p>\n","description":"<p>For example, when the window associated with an activity is closed, you should invalidate the activity.\nAn invalid activity cannot become current.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"returns":{"type":"void"}},{"name":"isSupported","summary":"<p>Determines if user activities are supported (<code>true</code>) or not (<code>false</code>) by the device.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"returns":{"summary":"<p>Returns <code>true</code> if the device supports user activity.</p>\n","type":"Boolean"}},{"name":"resignCurrent","summary":"<p>Marks the activity as currently <strong>not</strong> in use and ineligible to be continued.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"returns":{"type":"void"}}],"properties":[{"name":"activityType","summary":"<p>Name of the activity type.</p>\n","description":"<p>Apple recommends using a reverse DNS scheme to name activities in the format: com.<company>.<application>.&lt;activity_type&gt;.</p>\n<p>The activity type must also be registered in the <code>ios plist</code> section of the <code>tiapp.xml</code> file.  Add the <code>NSUserActivityTypes</code>\nkey and set its value to an array of activity type strings.</p>\n<h4 id=\"tiapp-xml\"><a class=\"header-anchor\" href=\"#tiapp-xml\">#</a> tiapp.xml</h4>\n<!--beforebegin--><div class=\"language-xml extra-class\"><!--afterbegin--><pre v-pre class=\"language-xml\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">ti:</span>app</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ios</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>plist</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dict</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>key</span><span class=\"token punctuation\">></span></span>NSUserActivityTypes<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>key</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>array</span><span class=\"token punctuation\">></span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>string</span><span class=\"token punctuation\">></span></span>com.fooinc.musicalpedia.playtrack<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>string</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>array</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dict</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>plist</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ios</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token namespace\">ti:</span>app</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<!--beforeend--></div><!--afterend-->","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"type":"String"},{"name":"eligibleForHandoff","summary":"<p>Set to true if this user activity should be eligible to be handed off to another device</p>\n","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"type":"Boolean","availability":"creation","default":true},{"name":"eligibleForPrediction","summary":"<p>A Boolean value that determines whether Siri can suggest the user activity as a shortcut to the user.</p>\n","description":"<p>To donate a user activity to Siri Shortcuts, set eligibleForPrediction to <code>true</code> and make the\nuser activity current. To make the user activity current, call the becomeCurrent method of activity.\nFor more information, see https://developer.apple.com/documentation/sirikit/donating_shortcuts?language=objc.</p>\n","platforms":[{"since":"7.4.0","name":"iphone"},{"since":"7.4.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"type":"Boolean","availability":"creation","default":false},{"name":"eligibleForPublicIndexing","summary":"<p>Set to <code>true</code> if the user activity can be publicly accessed by all iOS users.</p>\n","description":"<p>Set to <code>true</code> if this user activity should be eligible for indexing for any user of the application,\non any device, or <code>false</code> if the activity contains private or sensitive information or which would not be useful to other\nusers if indexed.  You must also set either the <code>requiredUserActivityKeys</code> or <code>webpageURL</code> property.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"type":"Boolean","availability":"creation","default":false},{"name":"eligibleForSearch","summary":"<p>Set to true if the user activity should be added to the on-device index.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"type":"Boolean","availability":"creation","default":false},{"name":"expirationDate","summary":"<p>Absolute date after which the activity is no longer eligible to be indexed or handed off.</p>\n","description":"<p>The date will be a string in the following format: &quot;yyyy-MM-dd'T'HH:mm:ss.SSS'+0000'&quot;\nFor example, <code>2015-12-25T23:30:55.978+0000</code></p>\n","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"type":"String","default":"Determined by iOS"},{"name":"keywords","summary":"<p>An array of string keywords representing words or phrases that might help the user to find the activity in the application history.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"type":"Array<String>"},{"name":"needsSave","summary":"<p>Set to true everytime you have updated the user activity and need the changes to be saved before handing it off to another device.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"type":"Boolean"},{"name":"persistentIdentifier","summary":"<p>A value used to identify the user activity.</p>\n","description":"<p>Set this property to a unique value that identifies the user activity so you can later delete it with\nTi.App.iOS.UserActivity.deleteSavedUserActivitiesForPersistentIdentifiers method.</p>\n","platforms":[{"since":"7.4.0","name":"iphone"},{"since":"7.4.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"type":"String","availability":"creation"},{"name":"requiredUserInfoKeys","summary":"<p>An array of String keys from the userInfo property which represent the minimal information about the user activity that should be stored for later restoration.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"type":"Array<String>"},{"name":"supported","deprecated":{"notes":"<p>Use <a href=\"/api/titanium/app/ios/useractivity.html#issupported\">isSupported</a> instead.</p>\n","since":"5.1.0"},"summary":"<p>Determines if user activities are supported (<code>true</code>) or not (<code>false</code>) by the device.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"type":"Boolean"},{"name":"title","summary":"<p>An optional, user-visible title for this activity such as a document name or web page title.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"type":"String"},{"name":"userInfo","summary":"<p>The userInfo dictionary contains application-specific state needed to continue an activity on another device.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"type":"Dictionary"},{"name":"webpageURL","summary":"<p>When no suitable application is installed on a resuming device and the <code>webpageURL</code> property is set,\nthe user activity will instead be continued in a web browser by loading the specified URL.</p>\n","description":"<p>Only supports the <code>http://</code> and <code>https://</code> protocols.  Any other protocol will throw an error.</p>\n","platforms":[{"since":"5.0.0","name":"iphone"},{"since":"5.0.0","name":"ipad"},{"since":"9.2.0","name":"macos"}],"type":"String"}],"subtype":"proxy","constants":[]}
